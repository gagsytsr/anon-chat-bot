# keyboards.py
from telegram import InlineKeyboardButton, InlineKeyboardMarkup, ReplyKeyboardMarkup

# --- Reply (Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğµ) ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹ ---

def get_main_menu_keyboard() -> ReplyKeyboardMarkup:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ½Ñ."""
    keyboard = [["ğŸ” ĞŸĞ¾Ğ¸ÑĞº ÑĞ¾Ğ±ĞµÑĞµĞ´Ğ½Ğ¸ĞºĞ°"], ["ğŸ’° ĞœĞ¾Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ"], ["ğŸ”— ĞœĞ¾Ğ¸ Ñ€ĞµÑ„ĞµÑ€Ğ°Ğ»Ñ‹"]]
    return ReplyKeyboardMarkup(keyboard, resize_keyboard=True)

def get_chat_keyboard() -> ReplyKeyboardMarkup:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ°Ñ‚Ğ°."""
    keyboard = [["ğŸš« Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Ñ‡Ğ°Ñ‚"], ["ğŸ” ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚"], ["âš ï¸ ĞŸĞ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ"]]
    return ReplyKeyboardMarkup(keyboard, resize_keyboard=True)

# --- Inline (ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ² ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¸) ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹ ---

def get_agreement_keyboard() -> InlineKeyboardMarkup:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ ÑĞ¾Ğ³Ğ»Ğ°ÑĞ¸Ñ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸."""
    keyboard = [[InlineKeyboardButton("âœ… Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞµĞ½", callback_data="agree")]]
    return InlineKeyboardMarkup(keyboard)

async def get_interests_keyboard(user_id: int, user_interests: dict, available_interests: dict) -> InlineKeyboardMarkup:
    """Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ¾Ğ²."""
    keyboard = []
    selected = user_interests.get(user_id, [])
    for interest, emoji in available_interests.items():
        text = f"âœ… {interest} {emoji}" if interest in selected else f"{interest} {emoji}"
        keyboard.append([InlineKeyboardButton(text, callback_data=f"interest_{interest}")])
    keyboard.append([InlineKeyboardButton("â¡ï¸ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾", callback_data="interests_done")])
    return InlineKeyboardMarkup(keyboard)

def get_show_name_keyboard() -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ½Ğ¸Ğº."""
    keyboard = [
        [InlineKeyboardButton("âœ… Ğ”Ğ°, Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ½Ğ¸Ğº", callback_data="show_name_yes")],
        [InlineKeyboardButton("âŒ ĞĞµÑ‚, Ğ½Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ", callback_data="show_name_no")]
    ]
    return InlineKeyboardMarkup(keyboard)

def get_report_reasons_keyboard() -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°Ğ¼Ğ¸ Ğ¶Ğ°Ğ»Ğ¾Ğ±Ñ‹."""
    keyboard = [
        [InlineKeyboardButton("ĞĞµ Ğ¿Ğ¾ Ñ‚ĞµĞ¼Ğµ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹", callback_data="report_reason_off_topic")],
        [InlineKeyboardButton("ĞÑĞºĞ¾Ñ€Ğ±Ğ»ĞµĞ½Ğ¸Ñ", callback_data="report_reason_insult")],
        [InlineKeyboardButton("ĞĞµĞ¿Ñ€Ğ¸ĞµĞ¼Ğ»ĞµĞ¼Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚", callback_data="report_reason_content")],
        [InlineKeyboardButton("Ğ Ğ°Ğ·Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸Ğµ Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸", callback_data="report_reason_private_info")]
    ]
    return InlineKeyboardMarkup(keyboard)

def get_unban_keyboard(cost: int) -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° Ğ½Ğ° Ñ€Ğ°Ğ·Ğ±Ğ°Ğ½."""
    keyboard = [[InlineKeyboardButton(f"Ğ Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ° {cost} Ğ²Ğ°Ğ»ÑÑ‚Ñ‹", callback_data="unban_request")]]
    return InlineKeyboardMarkup(keyboard)

def get_admin_keyboard() -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸."""
    keyboard = [
        [InlineKeyboardButton("ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°", callback_data="admin_stats")],
        [InlineKeyboardButton("ğŸ’° Ğ’Ñ‹Ğ´Ğ°Ñ‚ÑŒ Ğ²Ğ°Ğ»ÑÑ‚Ñƒ", callback_data="admin_add_currency")],
        [InlineKeyboardButton("ğŸ’¸ Ğ—Ğ°Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ²Ğ°Ğ»ÑÑ‚Ñƒ", callback_data="admin_remove_currency")],
        [InlineKeyboardButton("ğŸš« Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Ğ²ÑĞµ Ñ‡Ğ°Ñ‚Ñ‹", callback_data="admin_stop_all")],
        [InlineKeyboardButton("ğŸ‘®â€â™‚ï¸ Ğ—Ğ°Ğ±Ğ°Ğ½Ğ¸Ñ‚ÑŒ", callback_data="admin_ban")],
        [InlineKeyboardButton("ğŸ”“ Ğ Ğ°Ğ·Ğ±Ğ°Ğ½Ğ¸Ñ‚ÑŒ", callback_data="admin_unban")],
        [InlineKeyboardButton("ğŸšª Ğ’Ñ‹Ğ¹Ñ‚Ğ¸", callback_data="admin_exit")]
    ]
    return InlineKeyboardMarkup(keyboard)

